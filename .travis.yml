language: java

java:
  - jdk-9.0.1
begore_install:
     - wget -O ~/codacy-coverage-reporter-assembly.jar https://oss.sonatype.org/service/local/repositories/releases/content/com/codacy/codacy-coverage-reporter/2.0.1/codacy-coverage-reporter-2.0.1-assembly.jar
install:
  - gradle assemble

after_success:
  - wget https://github.com/codacy/codacy-coverage-reporter/releases/download/2.0.1/codacy-coverage-reporter-2.0.1-assembly.jar -O ccr.jar
  - java -cp ccr.jar com.codacy.CodacyCoverageReporter -l Java -r ./resteasy-spring-boot-starter/target/site/cobertura/coverage.xml --projectToken 7afdc2a8c38b41aab4894c1d5332ffbe

services:
  - postgresql
  
script:
  - test \lab_db\src\labTests\MainTest.java
